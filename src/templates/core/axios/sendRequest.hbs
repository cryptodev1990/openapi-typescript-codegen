async function sendRequest(options: ApiRequestOptions, url: string, onCancel: (cancelHandler: () => void) => void): Promise<AxiosResponse<any>> {
    const source = axios.CancelToken.source();
    const formData = options.formData && getFormData(options.formData);
    const data = formData || options.body;

    const config: AxiosRequestConfig = {
        url,
        data,
        method: options.method,
        headers: await getHeaders(options, formData),
        cancelToken: source.token,
    };

    onCancel(() => source.cancel('The user aborted a request.'));

    return await axios.request(config);
}
